<!DOCTYPE html>
<html lang="en">
<head>
	<base target="_top">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<title>Lake Macquarie - Aquatic Services Committeee - Ian Scrivener</title>
	
	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
    <script src="https://unpkg.com/papaparse@latest/papaparse.min.js"></script>


	<style>
		html, body {
			height: 100%;
			margin: 0;
		}
		.leaflet-container {
			height: 100%;
			width: 100%;
			max-width: 100%;
			max-height: 100%;
		}
	</style>

	
</head>
<body>

<div id='map'></div>

<script>

    // const osmLink       = '<a href="http://openstreetmap.org">OpenStreetMap</a>';
    // const osmUrl        = "http://tile.openstreetmap.org/{z}/{x}/{y}.png";
    // const osmAttrib     = `&copy; ${osmLink} Contributors`;
    // const osmMap        = L.tileLayer(osmUrl, { attribution: osmAttrib });    

    //OSM base layer
	const osm = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
		maxZoom: 20,
		attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
	});

    //Google base layer
    const google = L.tileLayer('http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}', {
		maxZoom: 20,
        subdomains: ['mt0', 'mt1', 'mt2', 'mt3'],
        attribution: '&copy; <a href="https://www.google.com.au/maps">Google Maps</a>'
	});

    const googleHybrid = L.tileLayer('http://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}',{
        maxZoom: 20,
        subdomains:['mt0','mt1','mt2','mt3'],
        attribution: '&copy; <a href="https://www.google.com.au/maps">Google Maps</a>'
    });

    const googleSat = L.tileLayer('http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}',{
        maxZoom: 20,
        subdomains:['mt0','mt1','mt2','mt3'],
        attribution: '&copy; <a href="https://www.google.com.au/maps">Google Maps</a>'
    });

    /* carto styles
        light_all,
        dark_all,
        light_nolabels,
        light_only_labels,
        dark_nolabels,
        dark_only_labels,
        rastertiles/voyager,
        rastertiles/voyager_nolabels,
        rastertiles/voyager_only_labels,
        rastertiles/voyager_labels_under
    */
    const carto_style = "light_all";

    //cartoDB base layer
	const carto = L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/light_all/{z}/{x}/{y}.png', {
		maxZoom: 20,
		attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> Contributors & <a href="http://cartodb.com/attributions">CartoDB</a>'
	});    

    // BUILD MAP
	const map = L.map('map', {
		center: [-33.0673125,151.5811875],
		zoom: 12,
		layers: [osm]
	});

	const baseLayers = {
		'OpenStreetMap': osm,
		'CartoDB': carto,
        'Google Street': google,
        'Google Hybrid': googleHybrid,
        'Google Satellite': googleSat        

    	};

    L.marker([-33.06738, 151.58848]).addTo(map).bindPopup("Wangi RSL Jetty");

	// const overlays = {
	// 	'Cities': cities
	// };

	const layerControl = L.control.layers(baseLayers).addTo(map);




    // papa parse Google Sheet csv
    var gURL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRNyTy4XruChW8t5cDKK-WNbMJ3k_1pKp_OYhBjKVxypBr3HOAUpKggYiHYxtMGOgjY9l2F4xLETEXO/pub?gid=995759205&single=true&output=csv';

    var papa_cb = function(results){

        if(results.errors.length !== 0){
            // handle errors
        }

        else{
            console.log(results.data);
        }


    }    

    var data = Papa.parse(gURL, {
        download: true,
        delimiter: "",	// auto-detect
        newline: "",	// auto-detect
        quoteChar: '"',
        escapeChar: '"',
        header: true,
        preview: 10,
        worker: false,
        comments: false,
        skipEmptyLines: true,
        complete: papa_cb
    })


    // create legend
    // const legend = L.control({ position: "bottomleft" });

    // legend.onAdd = function () {
    //     let div = L.DomUtil.create("div", "description");
    //     L.DomEvent.disableClickPropagation(div);
    //     const text =
    //     "<b>Lorem Ipsum</b> is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book...";
    //     div.insertAdjacentHTML("beforeend", text);
    //     return div;
    // };

    // legend.addTo(map);


</script>



</body>
</html>
